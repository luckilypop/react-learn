# 正则表达式

# 一、正则表达式的概述

1. 称为规则表达式，它是由一些普通字符和特殊字符（也称为元字符）构成的表达式。
2. 作用：**文本搜索和文本替换**--用来验证字符串是否符合格式要求，或者判断字符串中是否包含指定格式的子串；
3. 原理：通过【参数字符串】设置检索规则，在【指定字符串】中检索符合规 则的字符串。

# 二、正则表达式的构成

## 2.1 表达内容

### 2.1.1 普通字符

1. 普通字符：字母、数字、_等；

### 2.1.2 特殊字符

#### 1. 定位符

1. ^：表示以某个字符开头
2. $：表示以某个字符结尾
3. 注意：正则表达式中既有^也有$符号，那么在匹配时无论是内容还是字符的个数都要匹配

#### 2. 表示数量的限定符

1. *：表示它前面的字符的个数为**0到无穷多个**；
2. +：表示它前面的字符的个数为**1到无穷多个；**
3. ?：表示它前面的字符的个数为**0到1个；**
4. {n}：表示它前面的字符的个数**有且只能**有n个；
5. {n,m}：表示它**前面的字符的个数为n-m个，包含n和m；**
6. {n,}：表示它前面的字符的个数为**大于等于n个；**

#### 3. 转义字符

1. \d：表示所有的数字，即0-9间的任意一个数字；

2. \D：表示一个非数字的字符；

3. \w：表示任意的一个字母、数字、下划线；

4. \W：表示除了字母、数字、下划线之外的任意一个字符；

5. \s：表示任意一个空白符，如空格；

6. \S：表示除了空白符的任意字符

7. **\b：**匹配单词边界，**匹配单词的开头和结尾**；

8. \B：匹配单词非边界；

   **单词：字母、数字、下划线形成的连续字符；**

#### 4. 备选字符集

1. [选项1选项2选项3]：表示字符串中只要匹配该备选字符集中的任意一个即可
2. [选项1-选项n]：表示选项1到选项n间的任意一个字符
3. [^选项1选项2选项3]：除了选项1选项2选项3之外的任意字符

#### 5. 分组和选择

1. ()：表示分组
2. |：表示或的意思

#### 6. 其他

1. .：点表示除了\n之外的任意字符
2. [\u4e00-\u9fa5]：表示任意的一个汉字
3. \b：匹配单词的边界，注意：所谓单词就是指字母、数字、下划线形成的连续字符
4. \B：匹配单词的非边界

## 2.2 修饰符

|      |            |      |
| ---- | ---------- | ---- |
| i    | 忽略大小写 |      |
| g    | 全局匹配   |      |
|      |            |      |



# 三、正则表达式的创建

## 3.1 字面量形式创建

1. 格式：var  正则表达式名称 = /表达式内容/修饰符

## 3.2 构造方法创建

1. 格式：var  正则表达式名称 = new RegExp('表达式内容', '修饰符');

# 四、正则表达式的方法

## 4.1 test

1. 作用：该方法的作用是用来判断字符串是否符合正则表达式的格式要求；
2. 如果符合格式要求，返回true、否则返回false；
3. 格式：正则表达式.test(字符串);

## 4.2 split

1. 作用：将字符串str转换为XX；
2. 格式：字符串.split(正则表达式)

## 4.3 match

1. 作用：从字符串中查找匹配的子串；
2. 格式：字符串.match('要找的子串'/正则表达式);
3. 返回：数组，所有匹配的内容

## 4.4 replace

1. 作用：替换字符串中的指定字符
2. 格式：字符串.replace('要被替换的字符', '新的字符');

## 4.5 search

1. 作用：在字符串中查找某个子串，类似于indexOf
2. 格式：字符串对象.search('子串');
3. 注意：search方法当找到第一个匹配的子串后就停止匹配；
4. 返回：查到到字符串的下标；

## 4.6 exec

1. 作用：在字符串中检索是否有和该正则表达式匹配的子串；

2. 如果有，则返回，有点类似于match方法；

3. 格式：正则表达式.exec(字符串);

4. 注意事项：每一次查找在【指定字符串 中】【第一个】【满足正则表达式规则】的子字符串出现的 【下标和内容】；

5. **工作原理**:

   > 1.找到第一个子字符串，并存储其位置
   >
   > 2.如果再次运行 exec()，则从存储的位置开始检索，并找到下一个子字符串，并存储其位置

# 五、贪婪模式和懒惰模式

## 5.1 贪婪模式

1. 正则表达式中有表示数量的特殊符号，如*、+、{n,m}等，在匹配时会尽可能多的匹配字符，默认；

## 5.2 懒惰模式

1. 正则表达式中有表示数量的特殊符号，如*、+、{n,m}等，在匹配时会尽可能少的匹配字符；
2. 如果要将贪婪模式改为懒惰模式只需要在数量词后面加?