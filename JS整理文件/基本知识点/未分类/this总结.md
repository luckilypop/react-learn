# this总结

1. 任何函数本质上，是通过某个对象来调用的；

2. 所有函数内部都有一个变量this；

3. 它的值为函数调用的当前对象；

4. this 代表【函数运行时】【自动生成的】一个【用来指代函数调 用者】的对象，this 只能在函数内部使用。

5. 根本原则：函数的调用者是谁，this 就是谁；取决于在“点符号前”的是什么对象。

6. 一方面，函数可以被重用于不同的对象。另一方面，更大的灵活性造成了更大的出错的可能。

7. 

   | 场景                                                         | this指向                                                     |                                                              |
   | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
   | 文档中直接使用this                                           | this代表window对象                                           |                                                              |
   | 在全局变量或全局函数前面使用this                             | this代表window对象                                           |                                                              |
   | 在闭包中                                                     | this 指向 window                                             |                                                              |
   | 间隔调用和延迟调用                                           | this 指向 window                                             |                                                              |
   | 自执行函数中                                                 | this 指向 window                                             |                                                              |
   | HTML事件处理程序，将this作为事件处理函数的实参，传递给事件处理函数， | this代表绑定事件的元素                                       | \<button onclick="fun(this)">\</button>                      |
   | DOM0级事件处理程序                                           | this 指向绑定事件的元素                                      | div.onclick = function() {<br/>    console.log(this)<br/>};  |
   | DOM2级事件处理程序                                           | this指向指向绑定事件的元素(IE 指向 window )                  | div.addEventListener('click', function() {<br/>            console.log(this)<br/>        }) |
   | 字面量形式创建的对象中，如果将this方式方法内                 | this代表的是当前的字面量对象                                 |                                                              |
   | 构造方法中，如果将this放在属性名称前面                       | this代表的是该构造方法创建出来的对象                         |                                                              |
   | 构造方法中，如果将this放在某个函数中                         | this代表调用该函数的对象                                     |                                                              |
   | 将this放在原型中                                             | 使用该原型内容的对象                                         |                                                              |
   | 在正常函数中                                                 | 谁调用了函数，this 指向谁                                    |                                                              |
   | 借用构造方法继承，call中的this                               | 下级构造方法创建的对象                                       |                                                              |
   | call 和 apply 函数                                           | 第一个参数是谁，this 指向谁                                  |                                                              |
   | 箭头函数                                                     | 没有自己的 `this`，决于外部“正常的”函数。函数在声明式作用域下的this |                                                              |